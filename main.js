function main() {
  /**
   * @type {HTMLCanvasElement} canvas
   */
  var canvas = document.getElementById("myCanvas");

  /**
   * @type {WebGLRenderingContext} gl
   */
  var gl = canvas.getContext("webgl");
  if (!gl) {
    console.log("Browser only support experimental WebGl");
    gl = canvas.getContext("experimental-webgl");
  }

  const vertices = [
    //Bohlam Atas
    0.5819007534833, 0.1926267779086, 0.60, 0.64, 0.69, //Kurva 0
    0.6326752816401, 0.2075919019969, 0.60, 0.64, 0.69, //Kurva 1
    0.6797492078651, 0.211324584787, 0.60, 0.64, 0.69, //Kurva 2
    0.7281766797513, 0.2050608564675, 0.60, 0.64, 0.69, //Kurva 3
    0.7681709914942, 0.1907388704784, 0.60, 0.64, 0.69, //Kurva 4
    0.7967842558937, 0.1758442944897, 0.60, 0.64, 0.69, //Kurva 5
    0.8272776373679, 0.1539833830668, 0.60, 0.64, 0.69, //Kurva 6
    0.8460343779667, 0.1321005190349, 0.60, 0.64, 0.69, //Kurva 7
    0.8641658938789, 0.1008392847035, 0.60, 0.64, 0.69, //Kurva 8
    0.8768646917453, 0.0764957446506, 0.60, 0.64, 0.69, //Kurva 9
    0.8842948369857, 0.0520824102895, 0.60, 0.64, 0.69, //Kurva 10
    0.8885406342659, 0.0273152594883, 0.60, 0.64, 0.69, //Kurva 11
    0.8898001060306, 0, 0.60, 0.64, 0.69, //Kurva 12
    
    // //Bohlam Bawah
    0.8898001060306, 0, 0.60, 0.64, 0.69, //Kurva Reverse 12
    0.8885406342659, -0.0273152594883, 0.60, 0.64, 0.69, //Kurva Reverse 11
    0.8842948369857, -0.0520824102895, 0.60, 0.64, 0.69, //Kurva Reverse 10
    0.8768646917453, -0.0764957446506, 0.60, 0.64, 0.69, //Kurva Reverse 9
    0.8641658938789, -0.1008392847035, 0.60, 0.64, 0.69, //Kurva Reverse 8
    0.8460343779667, -0.1321005190349, 0.60, 0.64, 0.69, //Kurva Reverse 7
    0.8272776373679, -0.1539833830668, 0.60, 0.64, 0.69, //Kurva Reverse 6
    0.7967842558937, -0.1758442944897, 0.60, 0.64, 0.69, //Kurva Reverse 5
    0.7681709914942, -0.1907388704784, 0.60, 0.64, 0.69, //Kurva Reverse 4
    0.7281766797513, -0.2050608564675, 0.60, 0.64, 0.69, //Kurva Reverse 3
    0.6797492078651, -0.211324584787, 0.60, 0.64, 0.69, //Kurva Reverse 2
    0.6326752816401, -0.2075919019969, 0.60, 0.64, 0.69, //Kurva Reverse 1
    0.5819007534833, -0.1926267779086, 0.60, 0.64, 0.69, //Kurva Reverse 0
    
    // BodyLED Atas
    0.2725327966223, 0, 1.0, 1.0, 1.0, //B
    0.2716369486575, 0.0280969771427, 1.0, 1.0, 1.0, //B1
    0.2721103922666, 0.0432471726335, 1.0, 1.0, 1.0, //B2
    0.2740041667029, 0.0588708117333, 1.0, 1.0, 1.0, //B3
    0.2758979411393, 0.0723639545922, 1.0, 1.0, 1.0, //B4
    0.2780284373802, 0.0837266012103, 1.0, 1.0, 1.0, //B5
    0.2806323772301, 0.093195473392, 1.0, 1.0, 1.0, //B6
    0.2909724209397, 0.0960343901115, 1.0, 1.0, 1.0, //B7
    0.3024581489253, 0.1025868689681, 1.0, 1.0, 1.0, //B8
    0.3136767978198, 0.1097680627943, 1.0, 1.0, 1.0, //B9
    0.3251186449228, 0.1160498612038, 1.0, 1.0, 1.0, //B10
    0.3403744410601, 0.1160498612038, 1.0, 1.0, 1.0, //B11
    0.3577377158293, 0.1155704008166, 1.0, 1.0, 1.0, //B12
    0.3778136715209, 0.1155704008166, 1.0, 1.0, 1.0, //B13
    0.396505078544, 0.1179933609863, 1.0, 1.0, 1.0, //B14
    0.4158887599014, 0.1214547326572, 1.0, 1.0, 1.0, //B15
    0.4359647155929, 0.1263006529966, 1.0, 1.0, 1.0, //B16
    0.454656122616, 0.1318388476701, 1.0, 1.0, 1.0, //B17
    0.4728060388756, 0.1394060613621, 1.0, 1.0, 1.0, //B18
    0.4932012603869, 0.1484334544901, 1.0, 1.0, 1.0, //B19
    0.5129390759488, 0.1582519627218, 1.0, 1.0, 1.0, //B20
    0.5325259352085, 0.1673699834117, 1.0, 1.0, 1.0, //B21
    0.5487357497683, 0.1751371862216, 1.0, 1.0, 1.0, //B22
    0.5635947464481, 0.1829043890314, 1.0, 1.0, 1.0, //B23
    0.5819007534833, 0.1926267779086, 1.0, 1.0, 1.0, //B24

    // BodyLED Bawah
    0.5819007534833, -0.1926267779086, 1.0, 1.0, 1.0, //B24 Reverse
    0.5635947464481, -0.1829043890314, 1.0, 1.0, 1.0, //B23 Reverse
    0.5487357497683, -0.1751371862216, 1.0, 1.0, 1.0, //B22 Reverse
    0.5325259352085, -0.1673699834117, 1.0, 1.0, 1.0, //B21 Reverse
    0.5129390759488, -0.1582519627218, 1.0, 1.0, 1.0, //B20 Reverse
    0.4932012603869, -0.1484334544901, 1.0, 1.0, 1.0, //B19 Reverse
    0.4728060388756, -0.1394060613621, 1.0, 1.0, 1.0, //B18 Reverse
    0.454656122616, -0.1318388476701, 1.0, 1.0, 1.0, //B17 Reverse
    0.4359647155929, -0.1263006529966, 1.0, 1.0, 1.0, //B16 Reverse
    0.4158887599014, -0.1214547326572, 1.0, 1.0, 1.0, //B15 Reverse
    0.396505078544, -0.1179933609863, 1.0, 1.0, 1.0, //B14 Reverse
    0.3778136715209, -0.1155704008166, 1.0, 1.0, 1.0, //B13 Reverse
    0.3577377158293, -0.1155704008166, 1.0, 1.0, 1.0, //B12 Reverse
    0.3403744410601, -0.1160498612038, 1.0, 1.0, 1.0, //B11 Reverse
    0.3251186449228, -0.1160498612038, 1.0, 1.0, 1.0, //B10 Reverse
    0.3136767978198, -0.1097680627943, 1.0, 1.0, 1.0, //B9 Reverse
    0.3024581489253, -0.1025868689681, 1.0, 1.0, 1.0, //B8 Reverse
    0.2909724209397, -0.0960343901115, 1.0, 1.0, 1.0, //B7 Reverse
    0.2806323772301, -0.093195473392, 1.0, 1.0, 1.0, //B6 Reverse
    0.2780284373802, -0.0837266012103, 1.0, 1.0, 1.0, //B5 Reverse
    0.2758979411393, -0.0723639545922, 1.0, 1.0, 1.0, //B4 Reverse
    0.2740041667029, -0.0588708117333, 1.0, 1.0, 1.0, //B3 Reverse
    0.2721103922666, -0.0432471726335, 1.0, 1.0, 1.0, //B2 Reverse
    0.2716369486575, -0.0280969771427, 1.0, 1.0, 1.0, //B1 Reverse
    0.2725327966223, -0, 1.0, 1.0, 1.0, //B Reverse

    //Ulir
    0.14, 0, 0.721, 0.745, 0.776, //U1
    0.14, 0.02, 0.721, 0.745, 0.776, //U2
    0.14, 0.04, 0.721, 0.745, 0.776,//U3
    0.143055914183, 0.0551478149653, 0.721, 0.745, 0.776, //U4
    0.1504422470644, 0.066444559372, 0.721, 0.745, 0.776,//U5
    0.1582630701152, 0.0751343627618, 0.721, 0.745, 0.776,//U6
    0.1624811553537, 0.0829193280964, 0.721, 0.745, 0.776,//U7
    0.1690760712605, 0.0881952608218, 0.721, 0.745, 0.776,//U7
    0.173472681865, 0.0857038481459, 0.721, 0.745, 0.776,//U8
    0.1786020609036, 0.0829193280964, 0.721, 0.745, 0.776,//U10
    0.1851969768103, 0.0870228313273, 0.721, 0.745, 0.776,//U11
    0.19, 0.09, 0.721, 0.745, 0.776,//U12
    0.1963350570084, 0.0868762776404, 0.721, 0.745, 0.776,//U13
    0.2036627413493, 0.0823331133491, 0.721, 0.745, 0.776,//U14
    0.2108438720033, 0.0865831702668, 0.721, 0.745, 0.776,//U15
    0.2180250026573, 0.090393566124, 0.721, 0.745, 0.776,//U16
    0.2241802575036, 0.0867297239536, 0.721, 0.745, 0.776,//U17
    0.2303355123499, 0.0829193280964, 0.721, 0.745, 0.776,//U18
    0.2354648913885, 0.0867297239536, 0.721, 0.745, 0.776,//U19
    0.241473592548, 0.0908332271845, 0.721, 0.745, 0.776,//U20
    0.2473357400207, 0.0874624923877, 0.721, 0.745, 0.776,//U21
    0.2521720116856, 0.0843848649646, 0.721, 0.745, 0.776,//U22
    0.2600501186359, 0.0876317184514, 0.721, 0.745, 0.776,//U23
    0.27, 0.09, 0.721, 0.745, 0.776,//U24
    0.2909724209397, 0.0960343901115, 0.721, 0.745, 0.776, //U25
    0.2806323772301, 0.093195473392, 0.721, 0.745, 0.776, //U26
    0.2780284373802, 0.0837266012103, 0.721, 0.745, 0.776, //U27
    0.2758979411393, 0.0723639545922, 0.721, 0.745, 0.776, //U28
    0.2740041667029, 0.0588708117333, 0.721, 0.745, 0.776, //U29
    0.2721103922666, 0.0432471726335, 0.721, 0.745, 0.776, //U30
    0.2716369486575, 0.0280969771427, 0.721, 0.745, 0.776, //U31
    0.2725327966223, 0, 0.721, 0.745, 0.776, //U32

    //Ulir Reverse
    0.2725327966223, 0, 0.721, 0.745, 0.776, //U32 Reverse
    0.2716369486575, -0.0280969771427, 0.721, 0.745, 0.776, //U31 Reverse
    0.2721103922666, -0.0432471726335, 0.721, 0.745, 0.776, //U30 Reverse
    0.2740041667029, -0.0588708117333, 0.721, 0.745, 0.776, //U29 Reverse
    0.2758979411393, -0.0723639545922, 0.721, 0.745, 0.776, //U28 Reverse
    0.2780284373802, -0.0837266012103, 0.721, 0.745, 0.776, //U27 Reverse
    0.2806323772301, -0.093195473392, 0.721, 0.745, 0.776, //U26 Reverse
    0.2909724209397, -0.0960343901115, 0.721, 0.745, 0.776, //U25 Reverse
    0.27, -0.09, 0.721, 0.745, 0.776,//U24 Reverse
    0.2600501186359, -0.0876317184514, 0.721, 0.745, 0.776,//U23 Reverse
    0.2521720116856, -0.0843848649646, 0.721, 0.745, 0.776,//U22 Reverse
    0.2473357400207, -0.0874624923877, 0.721, 0.745, 0.776,//U21 Reverse
    0.241473592548, -0.0908332271845, 0.721, 0.745, 0.776,//U20 Reverse
    0.2354648913885, -0.0867297239536, 0.721, 0.745, 0.776,//U19 Reverse
    0.2303355123499, -0.0829193280964, 0.721, 0.745, 0.776,//U18 Reverse
    0.2241802575036, -0.0867297239536, 0.721, 0.745, 0.776,//U17 Reverse
    0.2180250026573, -0.090393566124, 0.721, 0.745, 0.776,//U16 Reverse
    0.2108438720033, -0.0865831702668, 0.721, 0.745, 0.776,//U15 Reverse
    0.2036627413493, -0.0823331133491, 0.721, 0.745, 0.776,//U14 Reverse
    0.1963350570084, -0.0868762776404, 0.721, 0.745, 0.776,//U13 Reverse
    0.19, -0.09, 0.721, 0.745, 0.776,//U12 Reverse
    0.1851969768103, -0.0870228313273, 0.721, 0.745, 0.776,//U11 Reverse
    0.1786020609036, -0.0829193280964, 0.721, 0.745, 0.776,//U10 Reverse
    0.173472681865, -0.0857038481459, 0.721, 0.745, 0.776,//U8 Reverse
    0.1690760712605, -0.0881952608218, 0.721, 0.745, 0.776,//U7 Reverse
    0.1624811553537, -0.0829193280964, 0.721, 0.745, 0.776,//U7 Reverse
    0.1582630701152, -0.0751343627618, 0.721, 0.745, 0.776,//U6 Reverse
    0.1504422470644, -0.066444559372, 0.721, 0.745, 0.776,//U5 Reverse
    0.143055914183, -0.0551478149653, 0.721, 0.745, 0.776, //U4 Reverse
    0.14, -0.04, 0.721, 0.745, 0.776,//U3 Reverse
    0.14, -0.02, 0.721, 0.745, 0.776, //U2 Reverse
    0.14, 0, 0.721, 0.745, 0.776, //U1 Reverse

    //Pucuk
    0.1111253885793, 0, 0.0, 0.0, 0.0, //F
    0.112226805745, 0.0103523962443, 0.0, 0.0, 0.0, //F1
    0.1134089149983, 0.0202821139723, 0.0, 0.0, 0.0, //F2
    0.116482399057, 0.0287933005964, 0.0, 0.0, 0.0, //F3
    0.1228657890251, 0.0351766905645, 0.0, 0.0, 0.0, //F4
    0.1304312882465, 0.0410872368312, 0.0, 0.0, 0.0, //F5
    0.1363418345132, 0.0453428301432, 0.0, 0.0, 0.0, //F6
    0.1429616463319, 0.0498348453059, 0.0, 0.0, 0.0, //F7
    0.14, 0, 0.0, 0.0, 0.0, //F8
    0.14, 0.02, 0.0, 0.0, 0.0, //F9

    // Pucuk Reverse
    0.14, -0.02, 0.0, 0.0, 0.0, //F9
    0.14, 0, 0.0, 0.0, 0.0, //F8
    0.1429616463319, -0.0498348453059, 0.0, 0.0, 0.0, //F7
    0.1363418345132, -0.0453428301432, 0.0, 0.0, 0.0, //F6
    0.1304312882465, -0.0410872368312, 0.0, 0.0, 0.0, //F5
    0.1228657890251, -0.0351766905645, 0.0, 0.0, 0.0, //F4
    0.116482399057, -0.0287933005964, 0.0, 0.0, 0.0, //F3
    0.1134089149983, -0.0202821139723, 0.0, 0.0, 0.0, //F2
    0.112226805745, -0.0103523962443, 0.0, 0.0, 0.0, //F1
    0.1111253885793, 0, 0.0, 0.0, 0.0, //F

  ];

  // Buat buffer untuk LinkedList tempat penyimpanan sementara sebelum titik digambar
  var buffer = gl.createBuffer();
  gl.bindBuffer(gl.ARRAY_BUFFER, buffer);
  gl.bufferData(gl.ARRAY_BUFFER, new Float32Array(vertices), gl.STATIC_DRAW);
  gl.bindBuffer(gl.ARRAY_BUFFER, null); //unbind buffer

  // Mendefinisikan vertexShader dan fragmentShader
  var vertexShaderSource = `
      attribute vec2 aPosition;
      attribute vec3 aColor;
      varying vec3 vColor;
      uniform float uChanged;
      void main(){
          gl_Position = vec4(aPosition.x,aPosition.y + uChanged, 0.0, 1.0);
          vColor = aColor;
      }
    `;

  var fragmentShaderSource = `
      precision mediump float;
      varying vec3 vColor;
      void main(){
          gl_FragColor = vec4(vColor, 1.0);
      }
    `;

  var vertexShader = gl.createShader(gl.VERTEX_SHADER);
  var fragmentShader = gl.createShader(gl.FRAGMENT_SHADER);
  gl.shaderSource(vertexShader, vertexShaderSource);
  gl.shaderSource(fragmentShader, fragmentShaderSource);

  //Compile Shader
  gl.compileShader(vertexShader);
  if (!gl.getShaderParameter(vertexShader, gl.COMPILE_STATUS)) {
    console.error("ERROR compiling vertex shader!", gl.getShaderInfoLog(vertexShader));
    return;
  }

  gl.compileShader(fragmentShader);
  if (!gl.getShaderParameter(fragmentShader, gl.COMPILE_STATUS)) {
    console.error("ERROR compiling fragment shader!", gl.getShaderInfoLog(fragmentShader));
    return;
  }

  // attach shader ke program grafika
  var shaderProgram = gl.createProgram();
  gl.attachShader(shaderProgram, vertexShader);
  gl.attachShader(shaderProgram, fragmentShader);

  // link program ke program utama
  gl.linkProgram(shaderProgram);
  if (!gl.getProgramParameter(shaderProgram, gl.LINK_STATUS)) {
    console.error("ERROR validating program!", gl.getProgramInfoLog(shaderProgram));
    return;
  }
  gl.validateProgram(shaderProgram);
  gl.useProgram(shaderProgram);

  gl.bindBuffer(gl.ARRAY_BUFFER, buffer);

  //Dapatkan lokasi positon dari shader untuk diolah
  var aPosition = gl.getAttribLocation(shaderProgram, "aPosition");
  gl.vertexAttribPointer(aPosition, 2, gl.FLOAT, gl.FALSE, 5 * Float32Array.BYTES_PER_ELEMENT, 0);
  gl.enableVertexAttribArray(aPosition);

  var aColor = gl.getAttribLocation(shaderProgram, "aColor");
  gl.vertexAttribPointer(aColor, 3, gl.FLOAT, gl.FALSE, 5 * Float32Array.BYTES_PER_ELEMENT, 2 * Float32Array.BYTES_PER_ELEMENT);
  gl.enableVertexAttribArray(aColor);

  //Waktunya NGGAMBARR
  var speed = 0.0197;
  var change = 0;
  var uChange = gl.getUniformLocation(shaderProgram, "uChanged");
  function render() {
    if (change >= 0.8 || change < -0.8) speed = -speed;
    change += speed;
    gl.uniform1f(uChange, change);

    gl.clearColor(0, 0.529, 0.658, 1.0);
    gl.clear(gl.COLOR_BUFFER_BIT);
    gl.drawArrays(gl.TRIANGLE_FAN, 0, 26);
    gl.drawArrays(gl.TRIANGLE_FAN, 26, 50);
    gl.drawArrays(gl.TRIANGLE_FAN, 76, 64);
    gl.drawArrays(gl.TRIANGLE_FAN, 140, 20);
    requestAnimationFrame(render);
  }
  requestAnimationFrame(render);
}
